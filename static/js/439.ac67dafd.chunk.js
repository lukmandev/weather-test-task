"use strict";(self.webpackChunkcodica_test_task=self.webpackChunkcodica_test_task||[]).push([[439],{8660:function(e,n,t){t.d(n,{C:function(){return o},T:function(){return a}});var r=t(9434),a=function(){return(0,r.I0)()},o=r.v9},7439:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(890),a=t(6445),o=t(2455),i=t(2791),c=t(6871),l=t(9557),d=t(8660),u=t(6341),s=t(7565),m=t(1413),p=t(4554),f=t(7218),y=t(763),h=t.n(y),x=function(e){return"translateY(".concat(-(2*(e-15)),"px)")},g=t(184),v=(0,o.Z)({wrapper:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #eee",padding:"15px",borderRadius:"10px",background:"rgba(0,0,0,0.2)"},day:{padding:"5px 15px",background:"#3C3C44",borderRadius:"50px",textAlign:"center",color:"#fff"},weatherIcon:{},tempTitle:{fontWeight:100,fontSize:12}}),w=function(e){var n=e.dayWeather,t=v();return(0,g.jsxs)(p.Z,{className:t.wrapper,children:[(0,g.jsx)(p.Z,{className:t.day,children:(0,f.format)(1e3*n.dt,"eeee")}),(0,g.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(null===n||void 0===n?void 0:n.weather[0].icon,"@2x.png"),alt:"weather icon",className:"w-icon"}),(0,g.jsxs)(r.Z,{className:t.tempTitle,children:["\u041d\u043e\u0447\u044c\u044e - $",n.temp.night,"\xb0C"]}),(0,g.jsxs)(r.Z,{className:t.tempTitle,children:["\u0414\u043d\u0435\u043c - $",n.temp.day,"\xb0C"]})]})},j=(0,o.Z)({wrapper:{width:"100%",height:232,display:"grid",gridTemplateColumns:"1.2fr 1fr",alignItems:"center",justifyContent:"center",border:"1px solid #000",padding:"15px",borderRadius:"10px",background:"rgba(0,0,0,0.2)"},day:{padding:"5px 15px",background:"#3C3C44",borderRadius:"50px",textAlign:"center",color:"#fff"},weatherIcon:{width:"100%"},tempTitle:{fontWeight:100,fontSize:18,marginTop:10}}),Z=function(e){var n=e.dayWeather,t=j();return(0,g.jsxs)(p.Z,{className:t.wrapper,children:[(0,g.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(null===n||void 0===n?void 0:n.weather[0].icon,"@2x.png"),alt:"weather icon",className:t.weatherIcon}),(0,g.jsxs)(p.Z,{children:[(0,g.jsx)(p.Z,{className:t.day,children:(0,f.format)(1e3*n.dt,"eeee")}),(0,g.jsxs)(r.Z,{className:t.tempTitle,children:["\u041d\u043e\u0447\u044c\u044e - $",n.temp.night,"\xb0C"]}),(0,g.jsxs)(r.Z,{className:t.tempTitle,children:["\u0414\u043d\u0435\u043c - $",n.temp.day,"\xb0C"]})]})]})},b=(0,o.Z)({container:{maxWidth:"1450px",width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",overflow:"hidden"},gridWrapper:{width:"100%",display:"grid",alignItems:"center",justifyContent:"flex-start",gridTemplateColumns:"3fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr",gridColumnGap:"10px"},currentInfo:{maxWidth:300,width:"100%",display:"flex",flexDirection:"column",background:"rgba(24,24,27, 0.6)",padding:"20px",borderRadius:"10px",margin:"10px 0",border:"1px solid #eee"},currentInfoItem:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},currentInfoTitle:{color:"#fff"},cityTime:{fontSize:50},dayWithHoursWrapper:{display:"flex",alignItems:"center"},dayHoursWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",gap:"30px",padding:"60px 0"},hoursBox:{display:"flex",flexDirection:"column",gap:"5px",alignItems:"center",justifyContent:"center",flexWrap:"wrap",background:"green",padding:"10px 20px",borderRadius:"5px"}}),k=function(e){var n=e.data,t=b(),o={humidity:{title:"Humidity",value:n.current.humidity},pressure:{title:"Pressure",value:n.current.pressure},wind_speed:{title:"Wind Speed",value:n.current.wind_speed},sunrise:{title:"Sunrise",value:(0,f.format)(1e3*n.current.sunrise,"HH:mm a")},sunset:{title:"Sunset",value:(0,f.format)(1e3*n.current.sunset,"HH:mm a")}};return(0,g.jsxs)(a.Z,{className:t.container,children:[(0,g.jsx)(r.Z,{component:"h1",className:t.cityTime,children:(0,f.format)((0,f.zonedTimeToUtc)(new Date,n.timezone),"HH:mm:ss")}),(0,g.jsx)(p.Z,{className:t.gridWrapper,children:n.daily.map((function(e,n){return n?(0,g.jsx)(w,{dayWeather:e},n):(0,g.jsx)(Z,{dayWeather:e},n)}))}),(0,g.jsx)(p.Z,{className:t.currentInfo,children:h().map(Object.entries(o),(function(e){return(0,g.jsxs)(p.Z,{className:t.currentInfoItem,children:[(0,g.jsx)(r.Z,{className:t.currentInfoTitle,children:e[1].title}),(0,g.jsx)(r.Z,{className:t.currentInfoTitle,children:e[1].value})]},e[1].title)}))}),(0,g.jsx)(p.Z,{className:t.dayWithHoursWrapper,children:function(){var e=h().map(n.hourly,(function(e){return(0,m.Z)((0,m.Z)({},e),{},{day:(0,f.format)(1e3*e.dt,"eee"),dt:(0,f.format)(1e3*e.dt,"HH:mm")})}));return(0,g.jsx)(p.Z,{className:t.dayHoursWrapper,children:e.map((function(e,n){return(0,g.jsx)(p.Z,{style:{padding:"35px 0"},children:(0,g.jsxs)(p.Z,{className:t.hoursBox,style:{background:(a=e.temp,"hsl("+[100+300*(30-a)/80,"70%","50%"]+")"),transform:x(e.temp)},children:[(0,g.jsx)(r.Z,{children:e.day}),(0,g.jsx)(r.Z,{children:e.dt}),(0,g.jsx)(r.Z,{children:e.temp})]})},n);var a}))})}()})]})},N=(0,o.Z)({container:{padding:"40px 15px"}}),C=function(){var e=N(),n=(0,d.T)(),t=(0,d.C)(s.i),o=(0,c.UO)().id;(0,i.useEffect)((function(){n((0,u.Bq)(o))}),[]);return(0,g.jsxs)(a.Z,{className:e.container,maxWidth:!1,children:[!t.detailCityLoaded&&(0,g.jsx)(l.Z,{}),function(){if(t.detailCityLoaded){if(t.detailCityError)return(0,g.jsx)(r.Z,{children:t.detailCityError});if(t.detailCity)return(0,g.jsx)(k,{data:t.detailCity})}return null}()]})}},6341:function(e,n,t){t.d(n,{e4:function(){return x},gT:function(){return y},Bq:function(){return h}});var r=t(5861),a=t(7757),o=t.n(a),i=t(8785),c=t(763),l=t.n(c),d=t(1413),u=t(4569),s=t.n(u)().create({baseURL:"https://api.openweathermap.org"});s.interceptors.request.use((function(e){return e.params=(0,d.Z)((0,d.Z)({},e.params),{},{appid:"f9a4d9ae1e4c03a60aae940410297e18",units:"metric"}),e}),(function(e){return Promise.reject(e)}));var m=s,p=JSON.parse('[{"id":707860,"name":"Hurzuf","country":"UA","coord":{"lon":34.283333,"lat":44.549999}},{"id":519188,"name":"Novinki","country":"RU","coord":{"lon":37.666668,"lat":55.683334}},{"id":1283378,"name":"Gorkh\u0101","country":"NP","coord":{"lon":84.633331,"lat":28}},{"id":1270260,"name":"State of Hary\u0101na","country":"IN","coord":{"lon":76,"lat":29}},{"id":708546,"name":"Holubynka","country":"UA","coord":{"lon":33.900002,"lat":44.599998}},{"id":1283710,"name":"B\u0101gmat\u012b Zone","country":"NP","coord":{"lon":85.416664,"lat":28}},{"id":529334,"name":"Mar\u2019ina Roshcha","country":"RU","coord":{"lon":37.611111,"lat":55.796391}},{"id":1269750,"name":"Republic of India","country":"IN","coord":{"lon":77,"lat":20}},{"id":1283240,"name":"Kathmandu","country":"NP","coord":{"lon":85.316666,"lat":27.716667}},{"id":703363,"name":"Laspi","country":"UA","coord":{"lon":33.733334,"lat":44.416668}},{"id":3632308,"name":"Merida","country":"VE","coord":{"lon":-71.144997,"lat":8.598333}},{"id":473537,"name":"Vinogradovo","country":"RU","coord":{"lon":38.545555,"lat":55.423332}},{"id":384848,"name":"Qarah Gawl al \u2018Uly\u0101","country":"IQ","coord":{"lon":45.6325,"lat":35.353889}},{"id":569143,"name":"Cherkizovo","country":"RU","coord":{"lon":37.728889,"lat":55.800835}},{"id":713514,"name":"Alupka","country":"UA","coord":{"lon":34.049999,"lat":44.416668}},{"id":2878044,"name":"Lichtenrade","country":"DE","coord":{"lon":13.40637,"lat":52.398441}},{"id":464176,"name":"Zavety Il\u2019icha","country":"RU","coord":{"lon":37.849998,"lat":56.049999}},{"id":295582,"name":"\u2018Azriqam","country":"IL","coord":{"lon":34.700001,"lat":31.75}},{"id":1271231,"name":"Gh\u016bra","country":"IN","coord":{"lon":79.883331,"lat":24.766666}},{"id":690856,"name":"Tyuzler","country":"UA","coord":{"lon":34.083332,"lat":44.466667}},{"id":464737,"name":"Zaponor\u2019ye","country":"RU","coord":{"lon":38.861942,"lat":55.639999}},{"id":707716,"name":"Il\u2019ich\xebvka","country":"UA","coord":{"lon":34.383331,"lat":44.666668}},{"id":697959,"name":"Partyzans\u2019ke","country":"UA","coord":{"lon":34.083332,"lat":44.833332}},{"id":803611,"name":"Yurevichi","country":"RU","coord":{"lon":39.934444,"lat":43.600555}},{"id":614371,"name":"Gumist\u2019a","country":"GE","coord":{"lon":40.973888,"lat":43.026943}},{"id":874560,"name":"Ptitsefabrika","country":"GE","coord":{"lon":40.290558,"lat":43.183613}},{"id":874652,"name":"Orekhovo","country":"GE","coord":{"lon":40.146111,"lat":43.351391}},{"id":2347078,"name":"Birim","country":"NG","coord":{"lon":9.997027,"lat":10.062094}},{"id":2051302,"name":"Priiskovyy","country":"RU","coord":{"lon":132.822495,"lat":42.819168}},{"id":563692,"name":"Dzhaga","country":"RU","coord":{"lon":42.650002,"lat":43.25}},{"id":481725,"name":"Tret\u2019ya Rota","country":"RU","coord":{"lon":39.681389,"lat":43.741943}},{"id":2638976,"name":"Ruislip","country":"GB","coord":{"lon":-0.42341,"lat":51.573441}},{"id":2892705,"name":"Karow","country":"DE","coord":{"lon":13.48117,"lat":52.609039}},{"id":2922336,"name":"Gatow","country":"DE","coord":{"lon":13.18285,"lat":52.483238}},{"id":975511,"name":"Mkuze","country":"ZA","coord":{"lon":32.038609,"lat":-27.616409}},{"id":1280737,"name":"Lhasa","country":"CN","coord":{"lon":91.099998,"lat":29.65}},{"id":745042,"name":"\u0130stanbul","country":"TR","coord":{"lon":28.983311,"lat":41.03508}},{"id":3496831,"name":"Mao","country":"DO","coord":{"lon":-71.078133,"lat":19.551861}},{"id":2017370,"name":"Russian Federation","country":"RU","coord":{"lon":100,"lat":60}},{"id":2045761,"name":"De-Friz","country":"RU","coord":{"lon":131.991394,"lat":43.27861}},{"id":1257986,"name":"Rumbak","country":"IN","coord":{"lon":77.416664,"lat":34.049999}},{"id":476350,"name":"Vavibet","country":"RU","coord":{"lon":34.916668,"lat":67.933334}},{"id":1343000,"name":"Surtag\u0101n Chib","country":"PK","coord":{"lon":64.656113,"lat":26.474443}},{"id":456169,"name":"R\u012bgas Rajons","country":"LV","coord":{"lon":24.333332,"lat":57}},{"id":475279,"name":"Verkhneye Shchekotikhino","country":"RU","coord":{"lon":36.133331,"lat":53}},{"id":711349,"name":"Bucha","country":"UA","coord":{"lon":30.366671,"lat":50.583328}},{"id":798544,"name":"Republic of Poland","country":"PL","coord":{"lon":20,"lat":52}},{"id":3094325,"name":"Kuchary","country":"PL","coord":{"lon":19.383329,"lat":52.150002}},{"id":6255149,"name":"North America","country":"","coord":{"lon":-100.546883,"lat":46.073231}},{"id":3575514,"name":"Brumaire","country":"KN","coord":{"lon":-62.73333,"lat":17.299999}},{"id":1861387,"name":"Ishikawa-ken","country":"JP","coord":{"lon":136.770493,"lat":36.77145}},{"id":1857578,"name":"Matoba","country":"JP","coord":{"lon":133.949997,"lat":34.25}},{"id":1299298,"name":"Pya","country":"MM","coord":{"lon":95.599998,"lat":21.51667}},{"id":3256023,"name":"Kalanac","country":"BA","coord":{"lon":18.78389,"lat":44.86861}},{"id":2921044,"name":"Federal Republic of Germany","country":"DE","coord":{"lon":10.5,"lat":51.5}},{"id":2861876,"name":"Land Nordrhein-Westfalen","country":"DE","coord":{"lon":7,"lat":51.5}},{"id":802899,"name":"Mutaykutan","country":"RU","coord":{"lon":47.660641,"lat":42.818859}}]'),f=t(7404),y=(0,i.hg)("fetchCities",function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,a,i,c,d,u,s,y,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((r=t.dispatch)((0,f.ih)(!1)),r((0,f.g9)(null)),a=[],i=[],c=0;c<p.length;c++)d=p[c],u=m.get("/data/2.5/weather?q=".concat(d.name,"&lang=ru")),a.push(u);return e.prev=6,e.next=9,Promise.allSettled(a);case 9:s=e.sent,y=l().filter(s,(function(e){return e.status&&e.value})),i=l().map(y,(function(e){return e.value.data})),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:!(h=l().uniqBy(i,(function(e){return e.id}))).length&&r((0,f.g9)("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430")),r((0,f.Ix)(h)),r((0,f.ih)(!0));case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,i.hg)("fetchCityWeather",function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,a,i,c,l,d,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.dispatch)((0,f.ie)(!1)),e.prev=2,e.next=5,m.get("/data/2.5/weather?id=".concat(n));case 5:return a=e.sent,i=a.data.coord,c=i.lon,l=i.lat,e.next=11,m.get("/data/2.5/onecall?lat=".concat(l,"&lon=").concat(c,"&exclude=minutely"));case 11:d=e.sent,u=d.data,r((0,f.F7)(u)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),(s=e.t0).response&&s.response.status?r((0,f.LO)("\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")):r((0,f.LO)("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430"));case 20:return e.prev=20,r((0,f.ie)(!0)),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(n,t){return e.apply(this,arguments)}}()),x=(0,i.hg)("checkForExistence",function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,a,i,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={error:{hasError:!1,message:""},data:null},e.prev=1,e.next=4,m.get("/data/2.5/weather?q=".concat(n));case 4:a=e.sent,i=a.data,r.data=i,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),r.error.hasError=!0,404===(null===(l=e.t0)||void 0===l||null===(c=l.response)||void 0===c?void 0:c.status)?r.error.message="\u0422\u0430\u043a\u043e\u0439 \u0433\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":r.error.message="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430";case 14:return e.prev=14,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,9,14,17]])})));return function(n,t){return e.apply(this,arguments)}}())},7565:function(e,n,t){t.d(n,{i:function(){return r}});var r=function(e){return e.cities}}}]);
//# sourceMappingURL=439.ac67dafd.chunk.js.map